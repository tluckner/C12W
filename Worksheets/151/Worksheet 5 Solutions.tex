\documentclass[10pt]{article}

\usepackage{enumerate}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{array}
\usepackage[all]{xy}
\usepackage{fancyhdr}
\usepackage{euscript}
\usepackage{graphics}
\usepackage{cancel}
\usepackage{fancybox}
\usepackage{tikz}
\usepackage{tikz-3dplot}
\usepackage{pgf}
\usepackage{pgfplots}
\usepackage[all]{xy}
\usepackage{graphicx}
\pgfplotsset{compat=1.14}

\usepackage{pstricks}
\usepackage{pst-plot}

\usepackage{setspace}
\onehalfspacing

\setlength{\oddsidemargin}{.5in}
\setlength{\evensidemargin}{.5in}
\setlength{\textwidth}{6.in}
\setlength{\topmargin}{0in}
\setlength{\headsep}{.20in}
\setlength{\textheight}{8.5in}


\pdfpagewidth 8.5in
 \pdfpageheight 11in


%General
\newcommand{\WW}{\mathbb {W}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\RR}{\mathbb {R}}
\newcommand{\II}{\mathbb {I}}
\newcommand{\QQ}{\mathbb {Q}}
\newcommand{\CC}{\mathbf C}
\newcommand{\NN}{\mathbb {N}}
\newcommand{\Zn}[1]{\mathbf{Z}/#1\mathbf{Z}}
\newcommand{\Znx}[1]{(\mathbf{Z}/#1\mathbf{Z})^\times}
\newcommand{\X}{\times} 
\newcommand{\set}[2]{\left\{#1 : #2\right\}}          
\newcommand{\sett}[1]{\left\{#1\right\}}                
\newcommand{\nonempty}{\neq\varnothing}
\newcommand{\ds}{\displaystyle}
\newcommand{\abs}[1]{\left| {#1} \right|}
\newcommand{\qedbox}{\rule{2mm}{2mm}}
\renewcommand{\qedsymbol}{\qedbox}											
\newcommand{\aand}{\qquad\hbox{and}\qquad}
\newcommand{\e}{\varepsilon}
\newcommand{\tto}{\rightrightarrows}
\newcommand{\gs}{\geqslant}
\newcommand{\ls}{\leqslant}
\renewcommand{\tilde}{\widetilde}
\renewcommand{\hat}{\widehat}
\newcommand{\norm}[1]{\left\| #1 \right\|}
\newcommand{\md}[3]{#1\equiv#2\;(\mathrm{mod}\;#3)}     
\newcommand{\gen}[1]{\left\langle #1 \right\rangle}
\renewcommand{\Re}{\operatorname{Re}}
\renewcommand{\Im}{\operatorname{Im}}
\newcommand{\zero}{\boldsymbol{0}}

\newcommand{\be}[1]{\textbf{\emph{#1}}}
\newcommand{\hhat}[1]{\hat{\! \hat{#1}}}

\newcommand{\fto}[1]{\xrightarrow{\hspace{4pt} #1 \hspace{4pt}}}
\newcommand{\flto}[1]{\xrightarrow{\quad #1 \quad}}



\newcommand{\dist}{\operatorname{dist}}
\newcommand{\esssup}{\operatorname{ess\:sup}}
\newcommand{\id}{\operatorname{id}}
\newcommand{\card}{\operatorname{card}}

\newcommand{\dmu}{\:\mathrm{d}\mu}
\newcommand{\dm}{\:\mathrm{d}m}
\newcommand{\dx}{\:\mathrm{d}x}
\newcommand{\dt}{\:\mathrm{d}t}
\newcommand{\dz}{\:\mathrm{d}z}
\newcommand{\dtheta}{\:\mathrm{d}\theta}
\newcommand{\dw}{\:\mathrm{d}w}

%Algebra
\newcommand{\Sym}{\operatorname {Sym}}
\newcommand{\Stab}{\operatorname {Stab}}
\newcommand{\M}{\operatorname{M}}
\newcommand{\GL}{\operatorname{GL}}
\newcommand{\PGL}{\operatorname{PGL}}
\newcommand{\SL}{\operatorname{SL}}
\newcommand{\PSL}{\operatorname{PSL}}
\newcommand{\Heis}{\operatorname{Heis}}
\newcommand{\Aff}{\operatorname{Aff}}
\newcommand{\Aut}{\operatorname{Aut}}
\newcommand{\image}{\operatorname{im}}
\newcommand{\Syl}[2]{\operatorname{\emph{Syl}}_{#1}\left(#2\right)}
\newcommand{\Hom}{\operatorname{Hom}}
\newcommand{\Tor}{\operatorname{Tor}}
\newcommand{\Gal}{\operatorname{Gal}}
\newcommand{\ch}{\operatorname{ch}}
\newcommand{\rad}{\operatorname{rad}}
\newcommand{\iso}{\cong}
\newcommand{\normal}{\unlhd}
\newcommand{\semi}{\rtimes}
\newcommand{\Nm}{\operatorname {N}}
\newcommand{\Tr}{\operatorname {Tr}}
\newcommand{\disc}{\operatorname {disc}}








%Euler Script Characters
\newcommand{\esa}{\EuScript{A}}
\newcommand{\esb}{\EuScript{B}}
\newcommand{\esc}{\EuScript{C}}
\newcommand{\esd}{\EuScript{D}}
\newcommand{\ese}{\EuScript{E}}
\newcommand{\esf}{\EuScript{F}}
\newcommand{\esg}{\EuScript{G}}
\newcommand{\esh}{\EuScript{H}}
\newcommand{\esi}{\EuScript{I}}
\newcommand{\esj}{\EuScript{J}}
\newcommand{\esk}{\EuScript{K}}
\newcommand{\esl}{\EuScript{L}}
\newcommand{\esm}{\EuScript{M}}
\newcommand{\esn}{\EuScript{N}}
\newcommand{\eso}{\EuScript{O}}
\newcommand{\esp}{\EuScript{P}}
\newcommand{\esq}{\EuScript{Q}}
\newcommand{\esr}{\EuScript{R}}
\newcommand{\ess}{\EuScript{S}}
\newcommand{\est}{\EuScript{T}}
\newcommand{\esu}{\EuScript{U}}
\newcommand{\esv}{\EuScript{V}}
\newcommand{\esw}{\EuScript{W}}
\newcommand{\esx}{\EuScript{X}}
\newcommand{\esy}{\EuScript{Y}}
\newcommand{\esz}{\EuScript{Z}}

%Calligraphic Characters
\newcommand{\cala}{\mathcal{A}}
\newcommand{\calb}{\mathcal{B}}
\newcommand{\calc}{\mathcal{C}}
\newcommand{\cald}{\mathcal{D}}
\newcommand{\cale}{\mathcal{E}}
\newcommand{\calf}{\mathcal{F}}
\newcommand{\calg}{\mathcal{G}}
\newcommand{\calh}{\mathcal{H}}
\newcommand{\cali}{\mathcal{I}}
\newcommand{\calj}{\mathcal{J}}
\newcommand{\calk}{\mathcal{K}}
\newcommand{\call}{\mathcal{L}}
\newcommand{\calm}{\mathcal{M}}
\newcommand{\caln}{\mathcal{N}}
\newcommand{\calo}{\mathcal{O}}
\newcommand{\calp}{\mathcal{P}}
\newcommand{\calq}{\mathcal{Q}}
\newcommand{\calr}{\mathcal{R}}
\newcommand{\cals}{\mathcal{S}}
\newcommand{\calt}{\mathcal{T}}
\newcommand{\calu}{\mathcal{U}}
\newcommand{\calv}{\mathcal{V}}
\newcommand{\calw}{\mathcal{W}}
\newcommand{\calx}{\mathcal{X}}
\newcommand{\caly}{\mathcal{Y}}
\newcommand{\calz}{\mathcal{Z}}

%Gothic Characters
\newcommand{\fraka}{\mathfrak{a}}
\newcommand{\frakb}{\mathfrak{b}}
\newcommand{\frakc}{\mathfrak{c}}
\newcommand{\frakd}{\mathfrak{d}}
\newcommand{\frake}{\mathfrak{e}}
\newcommand{\frakf}{\mathfrak{f}}
\newcommand{\frakg}{\mathfrak{g}}
\newcommand{\frakh}{\mathfrak{h}}
\newcommand{\fraki}{\mathfrak{i}}
\newcommand{\frakj}{\mathfrak{j}}
\newcommand{\frakk}{\mathfrak{k}}
\newcommand{\frakl}{\mathfrak{l}}
\newcommand{\frakm}{\mathfrak{m}}
\newcommand{\frakn}{\mathfrak{n}}
\newcommand{\frako}{\mathfrak{o}}
\newcommand{\frakp}{\mathfrak{p}}
\newcommand{\frakq}{\mathfrak{q}}
\newcommand{\frakr}{\mathfrak{r}}
\newcommand{\fraks}{\mathfrak{s}}
\newcommand{\frakt}{\mathfrak{t}}
\newcommand{\fraku}{\mathfrak{u}}
\newcommand{\frakv}{\mathfrak{v}}
\newcommand{\frakw}{\mathfrak{w}}
\newcommand{\frakx}{\mathfrak{x}}
\newcommand{\fraky}{\mathfrak{y}}
\newcommand{\frakz}{\mathfrak{z}}

\newcommand{\frakA}{\mathfrak{A}}
\newcommand{\frakB}{\mathfrak{B}}
\newcommand{\frakC}{\mathfrak{C}}
\newcommand{\frakD}{\mathfrak{D}}
\newcommand{\frakE}{\mathfrak{E}}
\newcommand{\frakF}{\mathfrak{F}}
\newcommand{\frakG}{\mathfrak{G}}
\newcommand{\frakH}{\mathfrak{H}}
\newcommand{\frakI}{\mathfrak{I}}
\newcommand{\frakJ}{\mathfrak{J}}
\newcommand{\frakK}{\mathfrak{K}}
\newcommand{\frakL}{\mathfrak{L}}
\newcommand{\frakM}{\mathfrak{M}}
\newcommand{\frakN}{\mathfrak{N}}
\newcommand{\frakO}{\mathfrak{O}}
\newcommand{\frakP}{\mathfrak{P}}
\newcommand{\frakQ}{\mathfrak{Q}}
\newcommand{\frakR}{\mathfrak{R}}
\newcommand{\frakS}{\mathfrak{S}}
\newcommand{\frakT}{\mathfrak{T}}
\newcommand{\frakU}{\mathfrak{U}}
\newcommand{\frakV}{\mathfrak{V}}
\newcommand{\frakW}{\mathfrak{W}}
\newcommand{\frakX}{\mathfrak{X}}
\newcommand{\frakY}{\mathfrak{Y}}
\newcommand{\frakZ}{\mathfrak{Z}}

%Lowercase Bold Letters
\newcommand{\bfa}{\mathbf{a}}
\newcommand{\bfb}{\mathbf{b}}
\newcommand{\bfc}{\mathbf{c}}
\newcommand{\bfd}{\mathbf{d}}
\newcommand{\bfe}{\mathbf{e}}
\newcommand{\bff}{\mathbf{f}}
\newcommand{\bfg}{\mathbf{g}}
\newcommand{\bfh}{\mathbf{h}}
\newcommand{\bfi}{\mathbf{i}}
\newcommand{\bfj}{\mathbf{j}}
\newcommand{\bfk}{\mathbf{k}}
\newcommand{\bfl}{\mathbf{l}}
\newcommand{\bfm}{\mathbf{m}}
\newcommand{\bfn}{\mathbf{n}}
\newcommand{\bfo}{\mathbf{o}}
\newcommand{\bfp}{\mathbf{p}}
\newcommand{\bfq}{\mathbf{q}}
\newcommand{\bfr}{\mathbf{r}}
\newcommand{\bfs}{\mathbf{s}}
\newcommand{\bft}{\mathbf{t}}
\newcommand{\bfu}{\mathbf{u}}
\newcommand{\bfv}{\mathbf{v}}
\newcommand{\bfw}{\mathbf{w}}
\newcommand{\bfx}{\mathbf{x}}
\newcommand{\bfy}{\mathbf{y}}
\newcommand{\bfz}{\mathbf{z}}




%Customized Theorem Environments
\newtheoremstyle%
{custom}%
{}%                         Space above
{}%													Space below
{}%													Body font
{}%                         Indent amount
{}%                         Theorem head font
{.}%                        Punctuation after heading
{ }%                        Space after heading
{\thmname{}%                Additional specifications for theorem head
\thmnumber{}%
\thmnote{\bfseries #3}}%

\newtheoremstyle%
{Theorem}%
{}%
{}%
{\itshape}%
{}%
{}%
{.}%
{ }%
{\thmname{\bfseries #1}%
\thmnumber{\;\bfseries #2}%
\thmnote{\;(\bfseries #3)}}%

%Theorem Environments
\theoremstyle{Theorem}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{cor}{Corollary}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{prop}{Proposition}[section]
\newtheorem*{nonumthm}{Theorem}
\newtheorem*{nonumprop}{Proposition}
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem*{answer}{Answer}
\newtheorem*{solution}{Solution}
\newtheorem*{nonumdfn}{Definition}
\newtheorem*{nonumex}{Example}
\newtheorem{ex}{Example}[section]
\theoremstyle{remark}
\newtheorem{remark}{Remark}[section]
\newtheorem*{note}{Note}
\newtheorem*{notation}{Notation}
\theoremstyle{custom}
\newtheorem*{cust}{Definition}
\fancypagestyle{firststyle}
{
   \fancyhead[L]{\textbf{Name:}}
   \fancyhead[R]{\textbf{Worksheet 5: Chain Rule}}
   \fancyfoot[R]{ Thomas Luckner } %{\footnotesize Page \thepage\ of \pageref{LastPage}}
}






\begin{document}
\thispagestyle{firststyle}
\pagestyle{plain}

Thoughts:\\\\
I specifically left out chain rule from the previous worksheet on derivative rules for a reason. This is where students suffer when it comes to derivatives. Thus, I want to give you a general idea for how I approach this. The first thing is when do you use chain rule. The mathy way to answer this is if you have a composition of two functions, use chain rule. This does not really give much insight to you as the student since a composition is not always obvious to find. Let's use a derivative we know to show how this works.
\[
f(x)=x^4=(x^2)^2
\]
Thus, by power rule,
\[
f'(x)=4x^3.
\]
By chain rule, we have $x^2$ embedded in $x^2$. Let $g(x)=x^2$ (the inner one).
\[
f(x)=g(x)^2
\]
Our outer function is $x^2$ as well so let's call that $h(x)$.
\[
f(x)=h(g(x))
\]
Now chain rule tells us the following:
\[
f'(x)=h'(g(x))\cdot g'(x)=2(g(x))(2x)=2(x^2)(2x)=4x^3.
\]
Thus, we see how chain rule works.  This example does not exactly tell me its purpose though. Let's give a good example of the purpose in a simple form.
\[
f(x)=(2x+1)^2
\]
Once again, you could expand and appply power rule to each term but that is time consuming. This is also a composition of two functions: $g(x)=2x+1$ and $h(x)=x^2$.
\[
f(x)=h(g(x))
\]
\[
f'(x)=h'(g(x))g'(x)=2(2x+1)(2)=8x+4
\]
You see there is an extra 2 here than if you just did power rule to the outside function! Big difference! Now we can finally come to answer when do we use chain rule in less mathy terms. The simple answer is when you cannot do anything else. This measn power rule, log rules, exponential rules, trig rules should all come first! If you see that something is not lining up right, this is probably because chain rule is needed. Let's try a hard one!
\[
f(x)=\sin^2(x)\ln(3x+1)
\]
Nasty looking thing! Not too bad though! Let's set up product rule first.
\[
f'(x)=(\sin^2(x))'\ln(3x+1)+\sin^2(x)(\ln(3x+1))'
\]
Now we see we have a trig function squared! That has to be a product rule since I don't know how to take the derivative of it with the square!
\[
f'(x)=2\sin(x)\cos(x)\ln(3x+1)+\sin^2(x)(\ln(3x+1))'
\]
Now the derivative of $\ln(x)$ we hopefully know, but not with that nastiness inside. So, chain rule!
\[
f'(x)=2\sin(x)\cos(x)\ln(3x+1)+\sin^2(x)\left(\dfrac{1}{3x+1}\cdot 3\right)
\]
There it is! We have the derivative! Going forward, simplifying will be something useful, but for now the process of finding the derivative is our focus. The last note I want to make about chain rule is in regard to product and quotient rule. Quotient rule is just product rule with an added chain rule! So, if you do not like memorizing both rules, go ahead and convert everything to a product and use chain rule on top. Here is what I mean.
\[
f(x)=\dfrac{g(x)}{h(x)}=g(x)\cdot (h(x))^{-1}
\]
Now use product rule where the chain is on inner $h(x)$ and outer $x^{-1}$.\\
The biggest help I can really give with this is to practice! This is not at all obvious and easy. Do problems over and over again and see what makes sense in your head so you can get it down.
\newpage
\noindent Problems: For all the functions below, find the derivative using chain rule. All other letters besides $x$ are to be considered constants.
\begin{enumerate}[1.]
\item $f(x)=\dfrac{1}{(\sec(x)+1)^2}$
\begin{solution}
$f(x)=(\sec(x)+1)^{-2}$. Now chain rule twice! 
\[
f'(x)=-2(\sec(x)+1)^{-3} \cdot \sec(x)\tan(x).
\]
\end{solution}
\item $f(x)=(x^2+1)^3(x^2+2)^6$
\begin{solution}
We need to set up a product rule and then use chain rule on each derivative.
\[
f'(x)=3(x^2+1)^2\cdot 2x\cdot (x^2+2)^6+(x^2+1)^3\cdot 6(x^2+2)^5\cdot 2x.
\]
\end{solution}
\item $f(x)=\dfrac{e^x-e^{-x}}{e^x+e^{-x}}$
\begin{solution}
Let's use two strategies here! First quotient rule.
\[
\dfrac{(e^x+e^{-x})\cdot (e^x+e^{-x}) - (e^x-e^{-x})\cdot (e^x-e^{-x})}{(e^x+e^{-x})^2}.
\] 
Now a more interesting way is to make a substitution! Let $u=e^x+e^{-x}$. Then notice the derivative of $u$ is the numerator! So, 
\[
f(u)=\dfrac{u'}{u}=u'(u)^{-1}.
\]
Now we have
\[
f'(x)=f'(u)\cdot u'=(u''\cdot u^{-1} + u' \cdot (-1)u^{-2}\cdot u')u'=(1+(e^x-e^{-x})\cdot (-1)(e^x+e^{-x})^{-2}\cdot (e^x-e^{-x}))(e^x-e^{-x})
\]
\end{solution}
\item $f(x)=\cot^2(\sin(x))$
\begin{solution}
\[
f'(x)=2\cot(\sin(x))\cdot (-\csc^2(\sin(x)))\cdot \cos(x)
\]
\end{solution}
\item $f(x)=2^{2^x}$
\begin{solution}
\[
f'(x)=\ln(2)\cdot 2^{2^x}\cdot \ln(2)\cdot 2^x
\]
\end{solution}
\item $f(x)=\sqrt{x+\sqrt{x+\sqrt{x}}}$
\begin{solution}
\[
f'(x)=(1/2)\left(x+\sqrt{x+\sqrt{x}}\right)^{(-1/2)}\cdot (1/2)(x+\sqrt{x})^{(-1/2)}\cdot (1/2)x^{(-1/2)}
\]
\end{solution}
\end{enumerate}
\end{document}







